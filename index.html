<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Malla Curricular Arquitectura</title>
<style>
  /* Estilos generales */
  body {
    font-family: 'Arial Rounded MT Bold', Arial, sans-serif;
    background-color: #f8f9f3;
    margin: 0;
    padding: 20px;
    color: #333;
  }

  h1 {
    text-align: center;
    color: #6b8e23;
    margin-bottom: 10px;
  }

  /* Barra de progreso */
  .progreso-container {
    width: 90%;
    max-width: 900px;
    margin: 0 auto 15px;
    text-align: center;
  }

  .progreso-bar {
    width: 100%;
    background-color: #e2ecd7;
    border-radius: 12px;
    overflow: hidden;
    height: 20px;
    margin-bottom: 5px;
  }

  .progreso-fill {
    height: 100%;
    width: 0%;
    background-color: #556b2f;
    transition: width 0.5s ease;
  }

  .mensaje-motivacion {
    font-size: 0.95em;
    color: #556b2f;
    margin-bottom: 10px;
  }

  button {
    background-color: #6b8e23;
    color: white;
    border: none;
    border-radius: 10px;
    padding: 8px 16px;
    cursor: pointer;
    margin-bottom: 20px;
    transition: 0.2s;
  }

  button:hover {
    background-color: #556b2f;
  }

  /* Malla */
  .malla {
    display: flex;
    gap: 20px;
    overflow-x: auto;
    padding-bottom: 20px;
  }

  .anio {
    min-width: 280px;
    background-color: #e8f0e2;
    border-radius: 12px;
    padding: 15px;
    flex-shrink: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  .anio h2 {
    text-align: center;
    color: #556b2f;
    margin-bottom: 10px;
  }

  .semestre {
    background-color: #f0f6ed;
    border-radius: 10px;
    padding: 10px;
    margin-bottom: 15px;
    width: 100%;
  }

  .semestre h3 {
    text-align: center;
    font-size: 1.05em;
    margin-bottom: 8px;
    color: #556b2f;
  }

  .materia {
    background-color: #d8e3c7;
    margin: 5px 0;
    padding: 8px;
    border-radius: 8px;
    cursor: pointer;
    position: relative;
    transition: 0.2s;
  }

  .materia.aprobada {
    background-color: #556b2f;
    color: white;
    text-decoration: line-through;
  }

  .materia.bloqueada {
    background-color: #cfcfcf;
    cursor: not-allowed;
    opacity: 0.7;
  }

  /* Tooltip */
  .materia[data-tooltip]:hover::after {
    content: attr(data-tooltip);
    position: absolute;
    top: -30px;
    left: 50%;
    transform: translateX(-50%);
    background: #556b2f;
    color: white;
    padding: 5px 8px;
    border-radius: 6px;
    white-space: nowrap;
    font-size: 0.8em;
    z-index: 10;
  }

  .materia[data-tooltip]:hover::before {
    content: '';
    position: absolute;
    top: -10px;
    left: 50%;
    transform: translateX(-50%);
    border-width: 5px;
    border-style: solid;
    border-color: #556b2f transparent transparent transparent;
    z-index: 10;
  }

  /* Scroll suave */
  .malla::-webkit-scrollbar {
    height: 10px;
  }
  .malla::-webkit-scrollbar-thumb {
    background: #a0b78e;
    border-radius: 10px;
  }
  .malla::-webkit-scrollbar-track {
    background: #f0f6ed;
  }

</style>
</head>
<body>

<h1>MALLA CURRICULAR ARQUITECTURA</h1>

<div class="progreso-container">
  <div class="progreso-bar">
    <div class="progreso-fill" id="progresoFill"></div>
  </div>
  <div id="porcentajeProgreso">Progreso: 0%</div>
  <div class="mensaje-motivacion" id="mensajeMotivacion">Todo gran proyecto empieza con una idea ðŸŒ±</div>
  <button id="reiniciarBtn">Reiniciar progreso</button>
</div>

<div class="malla" id="malla"></div>

<script>
/* --------- Datos de la malla (5 aÃ±os completos) --------- */
const mallaData = [
  /* ---------- PRIMER AÃ‘O ---------- */
  {
    anio: "AÃ‘O 1",
    semestres: [
      {
        nombre: "1Â° SEMESTRE",
        materias: [
          { nombre: "DiseÃ±o ArquitectÃ³nico 1", prereq: [] },
          { nombre: "ComposiciÃ³n ArquitectÃ³nica 1", prereq: [] },
          { nombre: "IntroducciÃ³n A La TeorÃ­a", prereq: [] },
          { nombre: "Arte: AntigÃ¼edad A S. XVIII", prereq: [] },
          { nombre: "RepresentaciÃ³n ArquitectÃ³nica 1", prereq: [] },
          { nombre: "IntroducciÃ³n A La EdificaciÃ³n", prereq: [] },
          { nombre: "MatemÃ¡tica Aplicada", prereq: [] },
        ]
      },
      {
        nombre: "2Â° SEMESTRE",
        materias: [
          { nombre: "FÃ­sica Aplicada", prereq: ["MatemÃ¡tica Aplicada"] },
          { nombre: "DiseÃ±o ArquitectÃ³nico 2", prereq: ["DiseÃ±o ArquitectÃ³nico 1","ComposiciÃ³n ArquitectÃ³nica 1","IntroducciÃ³n A La TeorÃ­a","RepresentaciÃ³n ArquitectÃ³nica 1","IntroducciÃ³n A La EdificaciÃ³n"] },
          { nombre: "ComposiciÃ³n ArquitectÃ³nica 2", prereq: ["ComposiciÃ³n ArquitectÃ³nica 1","DiseÃ±o ArquitectÃ³nico 1"] },
          { nombre: "Sistemas Constructivos BÃ¡sicos", prereq: ["IntroducciÃ³n A La EdificaciÃ³n"] },
          { nombre: "Arte: Moderno Y ContemporÃ¡neo", prereq: ["Arte: AntigÃ¼edad A S. XVIII"] },
          { nombre: "TopografÃ­a", prereq: ["IntroducciÃ³n A La EdificaciÃ³n","MatemÃ¡tica Aplicada"] },
          { nombre: "Dibujo A Mano Alzada", prereq: [] },
        ]
      },
      {
        nombre: "VERANO",
        materias: [
          { nombre: "Taller De DiseÃ±o ArquitectÃ³nico 1", prereq: ["RepresentaciÃ³n ArquitectÃ³nica 1","DiseÃ±o ArquitectÃ³nico 2"] },
          { nombre: "Taller De VisualizaciÃ³n", prereq: [] },
          { nombre: "GeomÃ¡tica", prereq: [] },
        ]
      }
    ]
  },
  /* ---------- SEGUNDO AÃ‘O ---------- */
  {
    anio: "AÃ‘O 2",
    semestres: [
      {
        nombre: "1Â° SEMESTRE",
        materias: [
          { nombre: "EspaÃ±ol", prereq: [] },
          { nombre: "DiseÃ±o ArquitectÃ³nico 3", prereq: ["IntroducciÃ³n A La TeorÃ­a","DiseÃ±o ArquitectÃ³nico 2","ComposiciÃ³n ArquitectÃ³nica 2","Sistemas Constructivos BÃ¡sicos","TopografÃ­a","Taller De DiseÃ±o ArquitectÃ³nico 1"] },
          { nombre: "InterpretaciÃ³n De La Arquitectura", prereq: ["IntroducciÃ³n A La TeorÃ­a"] },
          { nombre: "RepresentaciÃ³n ArquitectÃ³nica 2", prereq: ["RepresentaciÃ³n ArquitectÃ³nica 1"] },
          { nombre: "TecnologÃ­a Del HormigÃ³n Armado", prereq: ["IntroducciÃ³n A La EdificaciÃ³n","Sistemas Constructivos BÃ¡sicos"] },
          { nombre: "Modelos Estructurales", prereq: ["FÃ­sica Aplicada"] },
          { nombre: "IntroducciÃ³n A La InvestigaciÃ³n", prereq: [] },
        ]
      },
      {
        nombre: "2Â° SEMESTRE",
        materias: [
          { nombre: "InglÃ©s", prereq: [] },
          { nombre: "Sociedad Medio Ambiente Y Des.", prereq: ["DiseÃ±o ArquitectÃ³nico 3","IntroducciÃ³n A La EdificaciÃ³n"] },
          { nombre: "DiseÃ±o ArquitectÃ³nico 4", prereq: ["DiseÃ±o ArquitectÃ³nico 3","InterpretaciÃ³n De La Arquitectura","RepresentaciÃ³n ArquitectÃ³nica 2","TecnologÃ­a Del HormigÃ³n Armado"] },
          { nombre: "Textos Y Contextos De La Arq. Latinoamericana", prereq: ["InterpretaciÃ³n De La Arquitectura"] },
          { nombre: "RepresentaciÃ³n ArquitectÃ³nica 3 La Arquitectura", prereq: ["RepresentaciÃ³n ArquitectÃ³nica 2"] },
          { nombre: "Sistemas Constructivos Especiales", prereq: ["TecnologÃ­a Del HormigÃ³n Armado"] },
          { nombre: "AnÃ¡lisis Estructural", prereq: ["Modelos Estructurales"] },
        ]
      },
      {
        nombre: "VERANO",
        materias: [
          { nombre: "Taller De DiseÃ±o ArquitectÃ³nico 2", prereq: ["Taller De DiseÃ±o ArquitectÃ³nico 1","DiseÃ±o ArquitectÃ³nico 4","RepresentaciÃ³n ArquitectÃ³nica 3 La Arquitectura","Sistemas Constructivos Especiales"] },
          { nombre: "Electiva 1", prereq: [] },
          { nombre: "Electiva 2", prereq: [] },
        ]
      }
    ]
  },
  /* ---------- TERCER AÃ‘O ---------- */
  {
    anio: "AÃ‘O 3",
    semestres: [
      {
        nombre: "1Â° SEMESTRE",
        materias: [
          { nombre: "Historia De Pma En El Mundo Global", prereq: [] },
          { nombre: "DiseÃ±o ArquitectÃ³nico 5", prereq: ["DiseÃ±o ArquitectÃ³nico 4","Textos Y Contextos De La Arq. Latinoamericana","RepresentaciÃ³n ArquitectÃ³nica 3 La Arquitectura","Sistemas Constructivos Especiales","Taller De DiseÃ±o ArquitectÃ³nico 2"] },
          { nombre: "CrÃ­tica De La Arquitectura Y Pensamiento ContemporÃ¡neo", prereq: ["Textos Y Contextos De La Arq. Latinoamericana"] },
          { nombre: "RepresentaciÃ³n ArquitectÃ³nica 4", prereq: ["RepresentaciÃ³n ArquitectÃ³nica 3 La Arquitectura"] },
          { nombre: "Sistema Constructivos Complejos", prereq: ["Sistemas Constructivos Especiales"] },
          { nombre: "Instalaciones Para Edificio 1", prereq: ["FÃ­sica Aplicada"] },
          { nombre: "Espacios Abiertos Vecinales", prereq: ["Sociedad Medio Ambiente Y Des.","TopografÃ­a","IntroducciÃ³n A La InvestigaciÃ³n","DiseÃ±o ArquitectÃ³nico 4"] },
        ]
      },
      {
        nombre: "2Â° SEMESTRE",
        materias: [
          { nombre: "GeografÃ­a De PanamÃ¡", prereq: [] },
          { nombre: "DiseÃ±o ArquitectÃ³nico 6", prereq: ["DiseÃ±o ArquitectÃ³nico 5","CrÃ­tica De La Arquitectura Y Pensamiento ContemporÃ¡neo","RepresentaciÃ³n ArquitectÃ³nica 4","Sistema Constructivos Complejos","Instalaciones Para Edificio 1"] },
          { nombre: "Arquitectura Y Ciudad 1", prereq: ["Arte: Moderno Y ContemporÃ¡neo"] },
          { nombre: "RepresentaciÃ³n ArquitectÃ³nica 5", prereq: ["RepresentaciÃ³n ArquitectÃ³nica 4"] },
          { nombre: "GestiÃ³n De Seguridad Y Salud Ocupacional", prereq: ["Sistema Constructivos Complejos"] },
          { nombre: "Instalaciones Para Edificio 2", prereq: ["Instalaciones Para Edificio 1"] },
          { nombre: "Ciudad Y Comunidad", prereq: ["DiseÃ±o ArquitectÃ³nico 5","Espacios Abiertos Vecinales"] },
        ]
      },
      {
        nombre: "VERANO",
        materias: [
          { nombre: "Taller De DiseÃ±o ArquitectÃ³nico 3", prereq: ["Taller De DiseÃ±o ArquitectÃ³nico 2","Sistema Constructivos Complejos","DiseÃ±o ArquitectÃ³nico 5","RepresentaciÃ³n ArquitectÃ³nica 5"] },
          { nombre: "PrÃ¡ctica Supervisada 1", prereq: ["GestiÃ³n De Seguridad Y Salud Ocupacional"] },
          { nombre: "Optativa 1", prereq: [] },
        ]
      }
    ]
  },
  /* ---------- CUARTO AÃ‘O ---------- */
  {
    anio: "AÃ‘O 4",
    semestres: [
      {
        nombre: "1Â° SEMESTRE",
        materias: [
          { nombre: "DiseÃ±o ArquitectÃ³nico 7", prereq: ["Sistema Constructivos Complejos","DiseÃ±o ArquitectÃ³nico 6","Instalaciones Para Edificio 2","Taller De DiseÃ±o ArquitectÃ³nico 3","RepresentaciÃ³n ArquitectÃ³nica 5"] },
          { nombre: "Arquitectura Y Ciudad 2", prereq: ["Sistema Constructivos Complejos","DiseÃ±o ArquitectÃ³nico 6","Instalaciones Para Edificio 2","Taller De DiseÃ±o ArquitectÃ³nico 3","RepresentaciÃ³n ArquitectÃ³nica 5"] },
          { nombre: "RepresentaciÃ³n ArquitectÃ³nica 6", prereq: ["RepresentaciÃ³n ArquitectÃ³nica 5"] },
          { nombre: "Taller De Planos Y Especificaciones", prereq: ["IntroducciÃ³n A La InvestigaciÃ³n"] },
          { nombre: "DiseÃ±o Estructural Simplificado", prereq: ["AnÃ¡lisis Estructural","Sistema Constructivos Complejos"] },
          { nombre: "Instalaciones Para Edificas 3", prereq: ["Instalaciones Para Edificio 2"] },
          { nombre: "Urbanismo", prereq: ["GeomÃ¡tica","DiseÃ±o ArquitectÃ³nico 6","Ciudad Y Comunidad"] },
        ]
      },
      {
        nombre: "2Â° SEMESTRE",
        materias: [
          { nombre: "DiseÃ±o ArquitectÃ³nico 8", prereq: ["DiseÃ±o ArquitectÃ³nico 7","RepresentaciÃ³n ArquitectÃ³nica 6","DiseÃ±o Estructural Simplificado","Instalaciones Para Edificios 3"] },
          { nombre: "Arquitectura Y Ciudad 3", prereq: ["Arquitectura Y Ciudad 2"] },
          { nombre: "Presupuesto De Obra", prereq: ["Sistema Constructivos Complejos","Taller De Planos Y Especificaciones"] },
          { nombre: "Estructuras Especiales", prereq: ["DiseÃ±o Estructural Simplificado"] },
          { nombre: "Instalaciones Para Edificios 4", prereq: ["Instalaciones Para Edificas 3"] },
          { nombre: "Espacios Abiertos Urbanos", prereq: ["DiseÃ±o ArquitectÃ³nico 7","Urbanismo"] },
          { nombre: "MetodologÃ­a Para La Elab. De Tesis", prereq: ["DiseÃ±o ArquitectÃ³nico 7","Arquitectura Y Ciudad 2","RepresentaciÃ³n ArquitectÃ³nica 6","Taller De Planos Y Especificaciones","DiseÃ±o Estructural Simplificado","Instalaciones Para Edificio 3","Urbanismo"] },
        ]
      },
      {
        nombre: "VERANO",
        materias: [
          { nombre: "Taller De Urbanismo", prereq: ["DiseÃ±o ArquitectÃ³nico 8","Espacios Abiertos Urbanos"] },
          { nombre: "PrÃ¡ctica Supervisada 2", prereq: ["PrÃ¡ctica Supervisada 1"] },
          { nombre: "Optativa 2", prereq: [] },
        ]
      }
    ]
  },
  /* ---------- QUINTO AÃ‘O ---------- */
  {
    anio: "AÃ‘O 5",
    semestres: [
      {
        nombre: "1Â° SEMESTRE",
        materias: [
          { nombre: "Hist. De Las Relaciones De Pma Con Los EE.UU. I", prereq: [] },
          { nombre: "DiseÃ±o ArquitectÃ³nico 9", prereq: ["DiseÃ±o ArquitectÃ³nico 8","Estructuras Especiales","Instalaciones Para Edificios 4"] },
          { nombre: "Arquitectura Y Ciudad 4", prereq: ["Arquitectura Y Ciudad 3"] },
          { nombre: "ProgramaciÃ³n Y Control De PYT", prereq: ["Taller De Planos Y Especificaciones","Presupuesto De Obra"] },
          { nombre: "GestiÃ³n Profesional", prereq: ["DiseÃ±o ArquitectÃ³nico 8","PrÃ¡ctica Supervisada 2"] },
          { nombre: "Ciudad Y Territorio", prereq: ["Taller De Urbanismo"] },
          { nombre: "Trabajo De GraduaciÃ³n 1", prereq: ["DiseÃ±o ArquitectÃ³nico 7","Arquitectura Y Ciudad 3","RepresentaciÃ³n ArquitectÃ³nica 6","Taller De Planos Y Especificaciones","DiseÃ±o Estructural Simplificado","Instalaciones Para Edificios 3","Urbanismo"] },
        ]
      },
      {
        nombre: "2Â° SEMESTRE",
        materias: [
          { nombre: "Hist. De Las Relaciones De Pma Con Los EE.UU. II", prereq: [] },
          { nombre: "DiseÃ±o ArquitectÃ³nico 10", prereq: ["DiseÃ±o ArquitectÃ³nico 9"] },
          { nombre: "Patrimonio ArquitectÃ³nico", prereq: ["Arquitectura Y Ciudad 4"] },
          { nombre: "GestiÃ³n Y Mantenimiento De Edificios", prereq: ["PrÃ¡ctica Supervisada 2","ProgramaciÃ³n Y Control De PYT"] },
          { nombre: "PrÃ¡ctica Supervisada 3", prereq: ["RepresentaciÃ³n ArquitectÃ³nica 6","PrÃ¡ctica Supervisada 2","DiseÃ±o ArquitectÃ³nico 9","ProgramaciÃ³n Y Control De PYT","GestiÃ³n Profesional","Ciudad Y Territorio"] },
          { nombre: "GestiÃ³n Urbana Y Territorial", prereq: ["Taller De Urbanismo","DiseÃ±o ArquitectÃ³nico 9","GestiÃ³n Profesional","Ciudad Y Territorio"] },
          { nombre: "Trabajo De GraduaciÃ³n 2", prereq: ["Trabajo De GraduaciÃ³n 1"] },
        ]
      }
    ]
  }
];

/* --------- Funciones principales --------- */
function guardarProgreso(nombre, aprobado) {
  localStorage.setItem(nombre, aprobado);
}

function cargarProgreso(nombre) {
  return localStorage.getItem(nombre) === 'true';
}

function puedeAprobar(materia) {
  return materia.prereq.every(p => cargarProgreso(p));
}

function totalMaterias() {
  return mallaData.reduce((total, anio) => {
    return total + anio.semestres.reduce((sum, sem) => sum + sem.materias.length, 0);
  }, 0);
}

function materiasAprobadas() {
  let count = 0;
  mallaData.forEach(anio => {
    anio.semestres.forEach(sem => {
      sem.materias.forEach(m => {
        if (cargarProgreso(m.nombre)) count++;
      });
    });
  });
  return count;
}

function actualizarProgreso() {
  const total = totalMaterias();
  const aprobadas = materiasAprobadas();
  const porcentaje = Math.round((aprobadas / total) * 100);
  document.getElementById('porcentajeProgreso').textContent = `Progreso: ${porcentaje}%`;
  document.getElementById('progresoFill').style.width = porcentaje + '%';

  const msg = document.getElementById('mensajeMotivacion');
  if (porcentaje <= 10) msg.textContent = "Todo gran proyecto empieza con una idea ðŸŒ±";
  else if (porcentaje <= 30) msg.textContent = "Vas construyendo tu futuro ladrillo a ladrillo ðŸ§±";
  else if (porcentaje <= 60) msg.textContent = "Sigue asÃ­, tu creatividad toma forma ðŸ›ï¸";
  else if (porcentaje <= 90) msg.textContent = "Casi lista/o para diseÃ±ar grandes espacios âœ¨";
  else msg.textContent = "Â¡Felicidades arquitecta/o! Tu esfuerzo rindiÃ³ frutos ðŸŽ‰";
}

function renderMalla() {
  const malla = document.getElementById('malla');
  malla.innerHTML = '';

  mallaData.forEach(anioData => {
    const anioDiv = document.createElement('div');
    anioDiv.classList.add('anio');
    const h2 = document.createElement('h2');
    h2.textContent = anioData.anio;
    anioDiv.appendChild(h2);

    anioData.semestres.forEach(semestre => {
      const semDiv = document.createElement('div');
      semDiv.classList.add('semestre');
      const h3 = document.createElement('h3');
      h3.textContent = semestre.nombre;
      semDiv.appendChild(h3);

      semestre.materias.forEach(materia => {
        const matDiv = document.createElement('div');
        matDiv.classList.add('materia');
        matDiv.textContent = materia.nombre;

        if (cargarProgreso(materia.nombre)) {
          matDiv.classList.add('aprobada');
        }

        if (!puedeAprobar(materia) && !cargarProgreso(materia.nombre)) {
          matDiv.classList.add('bloqueada');
          const faltantes = materia.prereq.filter(p => !cargarProgreso(p));
          matDiv.setAttribute('data-tooltip', `Faltan: ${faltantes.join(', ')}`);
        }

        matDiv.addEventListener('click', () => {
          if (!puedeAprobar(materia)) return;
          const aprobado = !cargarProgreso(materia.nombre);
          guardarProgreso(materia.nombre, aprobado);
          renderMalla();
        });

        semDiv.appendChild(matDiv);
      });

      anioDiv.appendChild(semDiv);
    });

    malla.appendChild(anioDiv);
  });

  actualizarProgreso();
}

/* --------- BotÃ³n de reinicio --------- */
document.getElementById('reiniciarBtn').addEventListener('click', () => {
  if (confirm("Â¿Seguro que quieres reiniciar todo el progreso?")) {
    localStorage.clear();
    renderMalla();
  }
});

/* --------- InicializaciÃ³n --------- */
renderMalla();
</script>

</body>
</html>
